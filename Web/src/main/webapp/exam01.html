<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>exam01</title>
</head>

<body>
	<table id="table" border="1" style="width: 25%" cellpadding="5" rules="rows">
		<tr>
			<th>mem_id</th>
			<th>first_name</th>
			<th>last_name</th>
			<th>email</th>
			<th>gender</th>
			<th>address</th>
		</tr>
	</table>

	<script type="text/javascript">

		let xhttp = new XMLHttpRequest();

		xhttp.onreadystatechange = function () {

			if (xhttp.readyState == 4 && xhttp.status == 200) {
				jsonfunc(this.responseText);
			}
		}
		xhttp.open("GET", "members.json", true);
		xhttp.send();

		function jsonfunc(jsonText) {
			let mem_id = new Array();
			let first_name = new Array();
			let last_name = new Array();
			let email = new Array();
			let gender = new Array();
			let address = new Array();

			let json = JSON.parse(jsonText);

			for (i = 0; i < json.length; i++) { // 값 전체 가져오는법
				mem_id[i] = json[i].mem_id;
				first_name[i] = json[i].first_name;
				last_name[i] = json[i].last_name;
				email[i] = json[i].email;
				gender[i] = json[i].gender;
				address[i] = json[i].address;
			}
			let table = document.getElementById('table');

			for (i = 0; i < mem_id.length; i++) {
				let tr = document.createElement("tr");

				let td1 = document.createElement("td");
				td1.appendChild(document.createTextNode(mem_id[i] + ""));

				let td2 = document.createElement("td");
				td2.appendChild(document.createTextNode(first_name[i] + ""));

				let td3 = document.createElement("td");
				td3.appendChild(document.createTextNode(last_name[i] + ""));
				
				let td4 = document.createElement("td");
				td4.appendChild(document.createTextNode(email[i] + ""));
				
				let td5 = document.createElement("td");
				td5.appendChild(document.createTextNode(gender[i] + ""));
				
				let td6 = document.createElement("td");
				td6.appendChild(document.createTextNode(address[i] + ""));

				tr.appendChild(td1);
				tr.appendChild(td2);
				tr.appendChild(td3);
				tr.appendChild(td4);
				tr.appendChild(td5);
				tr.appendChild(td6);

				table.appendChild(tr);
			}
		}
	</script>
</body>

</html>